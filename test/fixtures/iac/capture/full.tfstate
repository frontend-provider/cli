{
  "version": 4,
  "terraform_version": "1.2.2",
  "serial": 20,
  "lineage": "050cea66-5a5e-8563-fb9d-886a6e61fd16",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "count",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "bucket_domain_name": "r4p3av-0-elie-foobar.s3.amazonaws.com",
            "id": "r4p3av-0-elie-foobar"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": ["random_string.prefix"]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "bucket_domain_name": "r4p3av-1-elie-foobar.s3.amazonaws.com",
            "id": "r4p3av-1-elie-foobar"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": ["random_string.prefix"]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "for_each",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "bar",
          "schema_version": 0,
          "attributes": {
            "bucket_domain_name": "r4p3av-bar-elie-foobar.s3.amazonaws.com",
            "id": "r4p3av-bar-elie-foobar"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": ["random_string.prefix"]
        },
        {
          "index_key": "foo",
          "schema_version": 0,
          "attributes": {
            "bucket": "r4p3av-foo-elie-foobar",
            "id": "r4p3av-foo-elie-foobar"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": ["random_string.prefix"]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "single",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket_domain_name": "r4p3av-elie-foobar.s3.amazonaws.com",
            "id": "r4p3av-elie-foobar"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": ["random_string.prefix"]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_string",
      "name": "prefix",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "id": "r4p3av",
            "upper": false
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.module_s3_bucket_count[0]",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "929327065333"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.module_s3_bucket_count[0]",
      "mode": "data",
      "type": "aws_canonical_user_id",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2c9ec318b19bf931666ff083f718f2d0765750814e96f6d5d4ad868ab2b46a21"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.module_s3_bucket_count[0]",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "bucket_domain_name": "r4p3av-module-count-0-elie-foobar.s3.amazonaws.com",
            "id": "r4p3av-module-count-0-elie-foobar"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": ["random_string.prefix"]
        }
      ]
    },
    {
      "module": "module.module_s3_bucket_count[0]",
      "mode": "managed",
      "type": "aws_s3_bucket_public_access_block",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "r4p3av-module-count-0-elie-foobar"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.module_s3_bucket_count.aws_s3_bucket.this",
            "module.module_s3_bucket_count.aws_s3_bucket_policy.this",
            "module.module_s3_bucket_count.data.aws_caller_identity.current",
            "module.module_s3_bucket_count.data.aws_elb_service_account.this",
            "module.module_s3_bucket_count.data.aws_iam_policy_document.combined",
            "module.module_s3_bucket_count.data.aws_iam_policy_document.deny_insecure_transport",
            "module.module_s3_bucket_count.data.aws_iam_policy_document.elb_log_delivery",
            "module.module_s3_bucket_count.data.aws_iam_policy_document.inventory_destination_policy",
            "module.module_s3_bucket_count.data.aws_iam_policy_document.lb_log_delivery",
            "module.module_s3_bucket_count.data.aws_iam_policy_document.require_latest_tls",
            "random_string.prefix"
          ]
        }
      ]
    },
    {
      "module": "module.module_s3_bucket_count[1]",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "929327065333",
            "id": "929327065333"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.module_s3_bucket_count[1]",
      "mode": "data",
      "type": "aws_canonical_user_id",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2c9ec318b19bf931666ff083f718f2d0765750814e96f6d5d4ad868ab2b46a21"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.module_s3_bucket_count[1]",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "bucket_domain_name": "r4p3av-module-count-1-elie-foobar.s3.amazonaws.com",
            "id": "r4p3av-module-count-1-elie-foobar"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": ["random_string.prefix"]
        }
      ]
    },
    {
      "module": "module.module_s3_bucket_count[1]",
      "mode": "managed",
      "type": "aws_s3_bucket_public_access_block",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "block_public_acls": false,
            "id": "r4p3av-module-count-1-elie-foobar"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.module_s3_bucket_count.aws_s3_bucket.this",
            "module.module_s3_bucket_count.aws_s3_bucket_policy.this",
            "module.module_s3_bucket_count.data.aws_caller_identity.current",
            "module.module_s3_bucket_count.data.aws_elb_service_account.this",
            "module.module_s3_bucket_count.data.aws_iam_policy_document.combined",
            "module.module_s3_bucket_count.data.aws_iam_policy_document.deny_insecure_transport",
            "module.module_s3_bucket_count.data.aws_iam_policy_document.elb_log_delivery",
            "module.module_s3_bucket_count.data.aws_iam_policy_document.inventory_destination_policy",
            "module.module_s3_bucket_count.data.aws_iam_policy_document.lb_log_delivery",
            "module.module_s3_bucket_count.data.aws_iam_policy_document.require_latest_tls",
            "random_string.prefix"
          ]
        }
      ]
    },
    {
      "module": "module.module_s3_bucket_for_each[\"bar\"]",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "929327065333"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.module_s3_bucket_for_each[\"bar\"]",
      "mode": "data",
      "type": "aws_canonical_user_id",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "display_name": "elie.charra",
            "id": "2c9ec318b19bf931666ff083f718f2d0765750814e96f6d5d4ad868ab2b46a21"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.module_s3_bucket_for_each[\"bar\"]",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "bucket_domain_name": "r4p3av-module-foreach-bar-elie-foobar.s3.amazonaws.com",
            "id": "r4p3av-module-foreach-bar-elie-foobar"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": ["random_string.prefix"]
        }
      ]
    },
    {
      "module": "module.module_s3_bucket_for_each[\"bar\"]",
      "mode": "managed",
      "type": "aws_s3_bucket_public_access_block",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "r4p3av-module-foreach-bar-elie-foobar"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.module_s3_bucket_for_each.aws_s3_bucket.this",
            "module.module_s3_bucket_for_each.aws_s3_bucket_policy.this",
            "module.module_s3_bucket_for_each.data.aws_caller_identity.current",
            "module.module_s3_bucket_for_each.data.aws_elb_service_account.this",
            "module.module_s3_bucket_for_each.data.aws_iam_policy_document.combined",
            "module.module_s3_bucket_for_each.data.aws_iam_policy_document.deny_insecure_transport",
            "module.module_s3_bucket_for_each.data.aws_iam_policy_document.elb_log_delivery",
            "module.module_s3_bucket_for_each.data.aws_iam_policy_document.inventory_destination_policy",
            "module.module_s3_bucket_for_each.data.aws_iam_policy_document.lb_log_delivery",
            "module.module_s3_bucket_for_each.data.aws_iam_policy_document.require_latest_tls",
            "random_string.prefix"
          ]
        }
      ]
    },
    {
      "module": "module.module_s3_bucket_for_each[\"foo\"]",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "929327065333"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.module_s3_bucket_for_each[\"foo\"]",
      "mode": "data",
      "type": "aws_canonical_user_id",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2c9ec318b19bf931666ff083f718f2d0765750814e96f6d5d4ad868ab2b46a21"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.module_s3_bucket_for_each[\"foo\"]",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "bucket_domain_name": "r4p3av-module-foreach-foo-elie-foobar.s3.amazonaws.com",
            "id": "r4p3av-module-foreach-foo-elie-foobar"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": ["random_string.prefix"]
        }
      ]
    },
    {
      "module": "module.module_s3_bucket_for_each[\"foo\"]",
      "mode": "managed",
      "type": "aws_s3_bucket_public_access_block",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "r4p3av-module-foreach-foo-elie-foobar"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.module_s3_bucket_for_each.aws_s3_bucket.this",
            "module.module_s3_bucket_for_each.aws_s3_bucket_policy.this",
            "module.module_s3_bucket_for_each.data.aws_caller_identity.current",
            "module.module_s3_bucket_for_each.data.aws_elb_service_account.this",
            "module.module_s3_bucket_for_each.data.aws_iam_policy_document.combined",
            "module.module_s3_bucket_for_each.data.aws_iam_policy_document.deny_insecure_transport",
            "module.module_s3_bucket_for_each.data.aws_iam_policy_document.elb_log_delivery",
            "module.module_s3_bucket_for_each.data.aws_iam_policy_document.inventory_destination_policy",
            "module.module_s3_bucket_for_each.data.aws_iam_policy_document.lb_log_delivery",
            "module.module_s3_bucket_for_each.data.aws_iam_policy_document.require_latest_tls",
            "random_string.prefix"
          ]
        }
      ]
    },
    {
      "module": "module.s3_bucket",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "929327065333"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.s3_bucket",
      "mode": "data",
      "type": "aws_canonical_user_id",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "display_name": "elie.charra",
            "id": "2c9ec318b19bf931666ff083f718f2d0765750814e96f6d5d4ad868ab2b46a21"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.s3_bucket",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "bucket_domain_name": "r4p3av-module-elie-foobar.s3.amazonaws.com",
            "id": "r4p3av-module-elie-foobar"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": ["random_string.prefix"]
        }
      ]
    },
    {
      "module": "module.s3_bucket",
      "mode": "managed",
      "type": "aws_s3_bucket_public_access_block",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "r4p3av-module-elie-foobar"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.s3_bucket.aws_s3_bucket.this",
            "module.s3_bucket.aws_s3_bucket_policy.this",
            "module.s3_bucket.data.aws_caller_identity.current",
            "module.s3_bucket.data.aws_elb_service_account.this",
            "module.s3_bucket.data.aws_iam_policy_document.combined",
            "module.s3_bucket.data.aws_iam_policy_document.deny_insecure_transport",
            "module.s3_bucket.data.aws_iam_policy_document.elb_log_delivery",
            "module.s3_bucket.data.aws_iam_policy_document.inventory_destination_policy",
            "module.s3_bucket.data.aws_iam_policy_document.lb_log_delivery",
            "module.s3_bucket.data.aws_iam_policy_document.require_latest_tls",
            "random_string.prefix"
          ]
        }
      ]
    }
  ]
}
